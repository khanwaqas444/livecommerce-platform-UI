<div class="detail-container" *ngIf="product">
  <div class="left-section">
    <img
      [src]="getFullImageUrl(product?.imageUrl)"
      alt="{{ product?.name || 'Product' }}"
      (error)="onImgError($event)"
    />
  </div>

  <div class="right-section">
    <h1>{{ product?.name }}</h1>
    <p class="category">{{ product?.category }}</p>
    <h2>₹{{ product?.price }}</h2>

    <p class="description">{{ product?.description }}</p>

    <div class="status-stock">
      <span [ngClass]="product?.live ? 'active' : 'inactive'">
        {{ product?.live ? 'Active' : 'Inactive' }}
      </span>

      <!-- ✅ FIXED: use safe operator and fallback -->
      <span>
        {{ (product?.stock || 0) > 0 ? 'In Stock' : 'Out of Stock' }}
        ({{ product?.stock ?? 0 }})
      </span>
    </div>

    <div class="actions">
      <button class="btn-buy">Buy Now</button>
      <button class="btn-back" (click)="goBack()">Back</button>
    </div>
  </div>
</div>
