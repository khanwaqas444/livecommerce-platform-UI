<div class="setup-container">

    <!-- HEADER -->
    <div class="header">
        <h2>Stream Setup</h2>
        <p>Configure your stream details, RTMP settings and featured products.</p>
    </div>

    <div class="content-grid">

        <!-- LEFT SIDE -->
        <div class="left">

            <!-- stream settings card -->
            <div class="card">
                <h3 class="title">Stream Details</h3>

                <label>Title</label>
                <input type="text" [(ngModel)]="stream.title" placeholder="e.g. New iPhone 14 Collection Launch">

                <label>Category</label>
                <select [(ngModel)]="stream.category">
                    <option>Electronics</option>
                    <option>Fashion</option>
                    <option>Beauty</option>
                    <option>Home</option>
                </select>

                <label>Privacy</label>
                <select [(ngModel)]="stream.privacy">
                    <option value="public">Public</option>
                    <option value="private">Private</option>
                </select>
            </div>


            <!-- RTMP SETTINGS CARD -->
            <div class="card">
                <h3 class="title">RTMP Settings</h3>

                <label>RTMP URL</label>
                <input type="text" value="rtmp://live.shoplive/stream" readonly>

                <label>Stream Key</label>
                <div class="key-row">
                    <input type="text" [(ngModel)]="stream.streamKey" readonly>
                    <button class="btn-sm" (click)="regenerateKey()">Regenerate</button>
                </div>

                <button class="btn-primary full" (click)="startBroadcast()">Start Broadcasting</button>
            </div>

        </div>



        <!-- RIGHT SIDE -->
        <div class="right">

            <div class="card">
                <h3 class="title">Select Products</h3>

                <div class="product" *ngFor="let p of products" (click)="toggleProduct(p)">
                    <div class="thumb"></div>
                    <div class="info">
                        <h4>{{ p.name }}</h4>
                        <p class="price">₹{{ p.price }}</p>
                    </div>
                    <div class="check" [class.active]="p.selected">✔</div>
                </div>

                <button class="btn-primary full" (click)="saveStream()">Save Stream</button>

            </div>

        </div>

    </div>

</div>
